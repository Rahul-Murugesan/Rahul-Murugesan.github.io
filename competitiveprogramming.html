<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <link href="mobile.css" rel="stylesheet" media="screen and (min-width: 320px) and (max-width: 430px)">
    <title>competitive Programming</title>
</head>
<body>
    <section id="navigation">
        <nav id="links">
            <a href="/"><img src="image/logo.png" class="logo"></a>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="services">Services</a></li>
                <li><a href="projects">Projects</a></li>
            </ul>
        </nav>
    </section>
    <section id="cp">
        <section class="container">
            <section class="cp-top">
                <h1>Competitive <span>Programming</span></h1>
                <p>The following are my competitive programming journey</p>
            </section>
            <section class="cp-bottom">
                <div class="items">
                    <a href="https://codeforces.com/profile/Finalgof"><div id="icon">
                        <img src="image/cp/codeforces.png">
                    </div></a>
                    <h2>Code Forces</h2>
                    <h3>Max rating: <span id="maxratingcf"></span></h3>
                    <h3>Rating: <span id="ratingcf"></span></h3>
                    <h3>Total problem solved: <span id="pscf"></span></h3>
                </div>
                <div class="items">
                    <a href="https://leetcode.com/Finalgof/"><div id="icon">
                        <img src="image/cp/leetcode.png">
                    </div></a>
                    <h2>Leet Code</h2>
                    <h3>Rank: <span id="ranklc"></span></h3>
                    <h3>Total problem solved: <span id="pslc"></span></h3>
                </div>
                <div class="items">
                    <a href="https://www.codechef.com/users/finalgof"><div id="icon">
                        <img src="image/cp/codechef.png">
                    </div></a>
                    <h2>Code Chef</h2>
                    <h3>Max rating: <span id="maxratingcf">1337</span></h3>
                    <h3>Rating: <span id="ratingcf">1337</span></h3>
                    <h3>Total problem solved: <span id="pscf">54</span></h3>
                </div>
                <div id="credits">
                    <p>Image by <a href="https://www.freepik.com/free-vector/flat-abstract-wireframe-background_15151400.htm#query=portfolio%20background&position=5&from_view=keyword&track=ais">Freepik</a></p>
                </div>
            </section>
        </section>
    </section>
    <script>
        let urlcf = "https://codeforces.com/api/user.info?handles=Finalgof";
        let urlcf_userhandle = "https://codeforces.com/api/user.status?handle=Finalgof";
        let urllc = "https://leetcode-stats-api.herokuapp.com/Finalgof";
        let urllc_rating = "https://leetcode.com/graphql?query=query%20{%20userContestRanking(username:%20%20%22Finalgof%22)%20{rating}}"
        let urlcc;

        fetch(urlcf)
        .then(res => res.json())
        .then(data => {
            document.getElementById("ratingcf").innerHTML = data.result[0]["rating"], 
            document.getElementById("maxratingcf").innerHTML = data.result[0]["maxRating"]
        });
        fetch(urlcf_userhandle)
        .then(res => res.json())
        .then(data => {
            var solved = 0;
            for(let i=0; i<data.result.length; i++){
                if(data.result[i]["verdict"] === "OK"){
                    solved++;
                }
            }
            document.getElementById("pscf").innerHTML = solved;
        });

        fetch(urllc)
        .then(res => res.json())
        .then(data => {
            document.getElementById("ranklc").innerHTML = data["ranking"],
            document.getElementById("pslc").innerHTML = data["totalSolved"]
        });
    </script>
</body>
</html>